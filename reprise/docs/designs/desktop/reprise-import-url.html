<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reprise — Import from YouTube</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

  :root {
    --bg: #F9F9F9;
    --surface: #FFFFFF;
    --border: #E4E4E4;
    --border-subtle: #EFEFEF;
    --text-primary: #111111;
    --text-secondary: #555555;
    --text-muted: #999999;
    --accent: #111111;
    --accent-light: #F0F0F0;
    --theme: #2563EB;
    --theme-light: #EFF6FF;
    --theme-text: #1D4ED8;
    --radius: 12px;
  }

  html, body { height: 100%; overflow: hidden; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--bg);
    color: var(--text-primary);
    display: flex;
    height: 100vh;
  }

  /* ─── SIDEBAR ─── */
  .sidebar {
    width: 220px;
    height: 100vh;
    background: var(--surface);
    border-right: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
  }

  .sidebar-header { padding: 18px 18px 16px; border-bottom: 1px solid var(--border-subtle); }

  .logo {
    font-family: 'DM Serif Display', serif;
    font-size: 18px;
    color: var(--text-primary);
    display: flex;
    align-items: center;
    gap: 7px;
  }

  .logo-dot { width: 6px; height: 6px; border-radius: 50%; background: var(--theme); display: inline-block; }

  .sidebar-nav { padding: 12px 10px; display: flex; flex-direction: column; gap: 2px; flex: 1; }

  .nav-item {
    display: flex;
    align-items: center;
    gap: 9px;
    padding: 8px 10px;
    border-radius: 7px;
    font-size: 13.5px;
    font-weight: 500;
    color: var(--text-secondary);
    cursor: pointer;
    text-decoration: none;
    transition: background 0.12s, color 0.12s;
    user-select: none;
  }
  .nav-item:hover { background: var(--bg); color: var(--text-primary); }
  .nav-item.active { background: var(--accent-light); color: var(--text-primary); }

  .sidebar-footer { padding: 12px 10px; border-top: 1px solid var(--border-subtle); }

  .user-row {
    display: flex;
    align-items: center;
    gap: 9px;
    padding: 8px 10px;
    border-radius: 7px;
    cursor: pointer;
    transition: background 0.12s;
  }
  .user-row:hover { background: var(--bg); }

  .avatar {
    width: 26px; height: 26px;
    border-radius: 50%;
    background: var(--accent);
    color: #fff;
    font-size: 10.5px;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }

  .user-info { flex: 1; min-width: 0; }
  .user-name { font-size: 12.5px; font-weight: 500; }
  .user-email { font-size: 11px; color: var(--text-muted); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  /* ─── MAIN ─── */
  .main { flex: 1; display: flex; flex-direction: column; min-width: 0; }

  /* ─── TOPBAR ─── */
  .topbar {
    height: 54px;
    padding: 0 28px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--surface);
    flex-shrink: 0;
  }

  .topbar-left { display: flex; align-items: center; gap: 10px; }
  .page-title { font-size: 14px; font-weight: 500; }

  .back-link {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    color: var(--text-muted);
    text-decoration: none;
    transition: color 0.15s;
    cursor: pointer;
  }
  .back-link svg { transition: transform 0.15s; }
  .back-link:hover { color: var(--text-primary); }
  .back-link:hover svg { transform: translateX(-2px); }

  /* ─── CONTENT ─── */
  .content { flex: 1; overflow-y: auto; padding: 48px 28px; display: flex; justify-content: center; }

  .import-wrap {
    width: 100%;
    max-width: 560px;
    animation: fadeUp 0.4s ease both;
  }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(14px); }
    to   { opacity: 1; transform: translateY(0); }
  }

  .import-heading {
    font-family: 'DM Serif Display', serif;
    font-size: 24px;
    letter-spacing: -0.5px;
    margin-bottom: 4px;
  }

  .import-sub {
    font-size: 13.5px;
    color: var(--text-muted);
    margin-bottom: 28px;
    font-weight: 300;
    line-height: 1.6;
  }

  /* URL input row */
  .url-row {
    display: flex;
    gap: 8px;
    margin-bottom: 10px;
  }

  .url-input-wrap {
    flex: 1;
    position: relative;
    display: flex;
    align-items: center;
  }

  .url-icon {
    position: absolute;
    left: 12px;
    color: var(--text-muted);
    pointer-events: none;
    display: flex;
    align-items: center;
  }

  .url-input {
    width: 100%;
    padding: 10px 13px 10px 38px;
    border-radius: 9px;
    border: 1.5px solid var(--border);
    background: var(--surface);
    color: var(--text-primary);
    font-family: 'DM Sans', sans-serif;
    font-size: 13.5px;
    outline: none;
    transition: border-color 0.15s, box-shadow 0.15s;
  }
  .url-input:focus {
    border-color: var(--theme);
    box-shadow: 0 0 0 3px rgba(37,99,235,0.09);
  }
  .url-input::placeholder { color: var(--text-muted); }
  .url-input.error { border-color: #DC2626; }
  .url-input.error:focus { box-shadow: 0 0 0 3px rgba(220,38,38,0.09); }

  .btn-fetch {
    padding: 10px 20px;
    border-radius: 9px;
    border: none;
    background: var(--accent);
    color: #fff;
    font-family: 'DM Sans', sans-serif;
    font-size: 13.5px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: opacity 0.15s, transform 0.15s;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .btn-fetch:hover { opacity: 0.82; transform: translateY(-1px); }

  .url-hint {
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 32px;
  }

  .url-error {
    font-size: 12px;
    color: #DC2626;
    margin-bottom: 8px;
    display: none;
  }
  .url-error.visible { display: block; }

  /* ─── LOADING STATE ─── */
  .loading-state {
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 16px;
    padding: 48px 0;
  }
  .loading-state.visible { display: flex; }

  .loader {
    width: 36px;
    height: 36px;
    border: 3px solid var(--border-subtle);
    border-top-color: var(--theme);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .loading-label {
    font-size: 13.5px;
    color: var(--text-secondary);
    font-weight: 400;
  }

  .loading-sub {
    font-size: 12px;
    color: var(--text-muted);
    text-align: center;
    line-height: 1.6;
  }

  /* ─── PREVIEW CARD (after fetch) ─── */
  .preview-card {
    display: none;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
    animation: fadeUp 0.4s ease both;
  }
  .preview-card.visible { display: block; }

  .preview-thumb {
    width: 100%;
    height: 200px;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .preview-thumb-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .preview-play-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0.25);
    opacity: 0;
    transition: opacity 0.15s;
    cursor: pointer;
  }
  .preview-thumb:hover .preview-play-overlay { opacity: 1; }

  .preview-play-btn {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: rgba(255,255,255,0.92);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.28);
  }

  .preview-body { padding: 20px; }

  .preview-title {
    font-size: 16px;
    font-weight: 500;
    letter-spacing: -0.2px;
    margin-bottom: 4px;
  }

  .preview-channel {
    font-size: 13px;
    color: var(--text-muted);
    margin-bottom: 14px;
  }

  .preview-meta {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    margin-bottom: 18px;
  }

  .meta-tag {
    font-size: 11.5px;
    font-weight: 400;
    color: var(--text-secondary);
    background: var(--bg);
    border: 1px solid var(--border-subtle);
    padding: 3px 10px;
    border-radius: 20px;
    display: inline-flex;
    align-items: center;
    gap: 5px;
  }

  .preview-actions {
    display: flex;
    gap: 8px;
  }

  .btn-continue {
    padding: 9px 20px;
    border-radius: 9px;
    border: none;
    background: var(--accent);
    color: #fff;
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: opacity 0.15s, transform 0.15s;
  }
  .btn-continue:hover { opacity: 0.82; transform: translateY(-1px); }

  .btn-cancel {
    padding: 9px 18px;
    border-radius: 9px;
    border: 1.5px solid var(--border);
    background: transparent;
    color: var(--text-secondary);
    font-family: 'DM Sans', sans-serif;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: border-color 0.15s, color 0.15s;
  }
  .btn-cancel:hover { border-color: #888; color: var(--text-primary); }

  /* ─── HISTORY ─── */
  .recent-imports {
    margin-top: 32px;
    display: none;
  }
  .recent-imports.visible { display: block; }

  .section-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }

  .section-title {
    font-size: 10.5px;
    font-weight: 500;
    letter-spacing: 0.09em;
    text-transform: uppercase;
    color: var(--text-muted);
    flex-shrink: 0;
  }

  .section-line { flex: 1; height: 1px; background: var(--border-subtle); }

  .history-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 9px;
    transition: background 0.12s;
    cursor: pointer;
    margin-bottom: 2px;
  }
  .history-item:hover { background: var(--surface); }

  .history-thumb {
    width: 40px;
    height: 28px;
    border-radius: 5px;
    background: linear-gradient(135deg, #DBEAFE, #BFDBFE);
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .history-info { flex: 1; min-width: 0; }
  .history-title {
    font-size: 13px;
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .history-date {
    font-size: 11px;
    color: var(--text-muted);
    font-weight: 400;
  }

  .history-status {
    font-size: 10.5px;
    font-weight: 500;
    color: #15803D;
    background: #DCFCE7;
    padding: 3px 9px;
    border-radius: 20px;
    flex-shrink: 0;
  }
</style>
</head>
<body>

<!-- ─── SIDEBAR ─── -->
<aside class="sidebar">
  <div class="sidebar-header">
    <div class="logo">Reprise <span class="logo-dot"></span></div>
  </div>

  <nav class="sidebar-nav">
    <a class="nav-item" href="reprise-home-library.html">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/>
      </svg>
      Library
    </a>
  </nav>

  <div class="sidebar-footer">
    <a class="nav-item" href="reprise-settings.html" style="margin-bottom:6px;">
      <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3"/>
        <path d="M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
      </svg>
      Settings
    </a>
    <div class="user-row">
      <div class="avatar">AY</div>
      <div class="user-info">
        <div class="user-name">Akira Yamada</div>
        <div class="user-email">akira@example.com</div>
      </div>
    </div>
  </div>
</aside>

<!-- ─── MAIN ─── -->
<div class="main">

  <header class="topbar">
    <div class="topbar-left">
      <a class="back-link" href="reprise-home-library.html">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M19 12H5M12 19l-7-7 7-7"/>
        </svg>
        Back to Library
      </a>
    </div>
  </header>

  <div class="content">
    <div class="import-wrap">

      <div class="import-heading">Import from YouTube</div>
      <div class="import-sub">Paste a YouTube URL to fetch the song's metadata and thumbnail automatically.</div>

      <!-- URL input -->
      <div class="url-row" id="url-row">
        <div class="url-input-wrap">
          <div class="url-icon">
            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M10 13a5 5 0 007.54.54l3-3a5 5 0 00-7.07-7.07l-1.72 1.71"/>
              <path d="M14 11a5 5 0 00-7.54-.54l-3 3a5 5 0 007.07 7.07l1.71-1.71"/>
            </svg>
          </div>
          <input class="url-input" type="url" placeholder="https://www.youtube.com/watch?v=..." id="url-input">
        </div>
        <button class="btn-fetch" id="btn-fetch">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 12a9 9 0 11-6.219-8.56"/>
            <polyline points="21 3 21 9 15 9"/>
          </svg>
          Fetch
        </button>
      </div>

      <div class="url-error" id="url-error">Please enter a valid YouTube URL.</div>
      <div class="url-hint" id="url-hint">Supports youtube.com and youtu.be links.</div>

      <!-- Loading state -->
      <div class="loading-state" id="loading-state">
        <div class="loader"></div>
        <div class="loading-label">Fetching video info...</div>
        <div class="loading-sub">Downloading metadata and thumbnail from YouTube.<br>This may take a few seconds.</div>
      </div>

      <!-- Preview card (shown after fetch) -->
      <div class="preview-card" id="preview-card">
        <div class="preview-thumb">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.5)" stroke-width="1" stroke-linecap="round">
            <rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"/>
            <line x1="7" y1="2" x2="7" y2="22"/>
            <line x1="17" y1="2" x2="17" y2="22"/>
            <line x1="2" y1="12" x2="22" y2="12"/>
            <line x1="2" y1="7" x2="22" y2="7"/>
            <line x1="2" y1="17" x2="22" y2="17"/>
          </svg>
          <div class="preview-play-overlay">
            <div class="preview-play-btn">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="#111111" style="margin-left:2px;">
                <polygon points="5,3 19,12 5,21"/>
              </svg>
            </div>
          </div>
        </div>
        <div class="preview-body">
          <div class="preview-title" id="preview-title">Fujii Kaze - Prema (Official Video)</div>
          <div class="preview-channel" id="preview-channel">Fujii Kaze</div>
          <div class="preview-meta">
            <span class="meta-tag">
              <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              3:42
            </span>
            <span class="meta-tag">
              <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
              Jan 15, 2024
            </span>
            <span class="meta-tag">
              <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
              12.4M views
            </span>
          </div>
          <div class="preview-actions">
            <button class="btn-continue" onclick="window.location.href='reprise-add-song.html'">
              Continue to edit
              <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </button>
            <button class="btn-cancel" id="btn-clear">Start over</button>
          </div>
        </div>
      </div>

      <!-- Recent imports -->
      <div class="recent-imports visible" id="recent-imports">
        <div class="section-header">
          <span class="section-title">Recent imports</span>
          <div class="section-line"></div>
        </div>
        <div class="history-item">
          <div class="history-thumb">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#93C5FD" stroke-width="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
          </div>
          <div class="history-info">
            <div class="history-title">Mela! - Greeen</div>
            <div class="history-date">Imported yesterday</div>
          </div>
          <span class="history-status">Added</span>
        </div>
        <div class="history-item">
          <div class="history-thumb" style="background:linear-gradient(135deg,#EDE9FE,#DDD6FE);">
            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#C4B5FD" stroke-width="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
          </div>
          <div class="history-info">
            <div class="history-title">Ref:rain - Aimer</div>
            <div class="history-date">Imported 3 days ago</div>
          </div>
          <span class="history-status">Added</span>
        </div>
      </div>

    </div>
  </div>
</div>

<script>
  const urlInput = document.getElementById('url-input');
  const btnFetch = document.getElementById('btn-fetch');
  const urlError = document.getElementById('url-error');
  const urlHint = document.getElementById('url-hint');
  const loadingState = document.getElementById('loading-state');
  const previewCard = document.getElementById('preview-card');
  const urlRow = document.getElementById('url-row');
  const recentImports = document.getElementById('recent-imports');
  const btnClear = document.getElementById('btn-clear');

  // Demo: validate & show loading then preview
  btnFetch.addEventListener('click', () => {
    const val = urlInput.value.trim();
    const isYT = /(?:youtube\.com\/watch|youtu\.be\/)/.test(val);

    if (!val || !isYT) {
      urlInput.classList.add('error');
      urlError.classList.add('visible');
      return;
    }

    urlInput.classList.remove('error');
    urlError.classList.remove('visible');
    urlHint.style.display = 'none';
    loadingState.classList.add('visible');
    previewCard.classList.remove('visible');
    recentImports.classList.remove('visible');

    // Simulate fetch delay
    setTimeout(() => {
      loadingState.classList.remove('visible');
      previewCard.classList.add('visible');
    }, 1800);
  });

  // Clear error on input
  urlInput.addEventListener('input', () => {
    urlInput.classList.remove('error');
    urlError.classList.remove('visible');
  });

  // Start over
  btnClear.addEventListener('click', () => {
    previewCard.classList.remove('visible');
    urlInput.value = '';
    urlHint.style.display = '';
    recentImports.classList.add('visible');
  });
</script>
</body>
</html>
